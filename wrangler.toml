name = "adx-mirix"
main = "server.js"
compatibility_date = "2024-01-15"

[env.production]
name = "adx-mirix-prod"
routes = [
  { pattern = "adx-mirix.pages.dev/*", zone_name = "pages.dev" }
]

[build]
command = "npm run build"
cwd = "./"
watch_paths = ["app/**/*.tsx", "app/**/*.ts"]

[build.upload]
format = "service-worker"

[triggers.crons]
crons = ["0 0 * * *"]

# 环境变量
[env.production.vars]
ENVIRONMENT = "production"

# KV 命名空间（可选，用于存储日志）
[[kv_namespaces]]
binding = "LOGS"
id = "your-kv-namespace-id"
preview_id = "your-preview-namespace-id"
